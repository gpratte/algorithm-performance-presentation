<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Algorithm Performance</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

    <style type="text/css">
      p { text-align: left; }
    </style>

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
          <h1>Algorithm Performance</h1>
          <p>See the Resources section to get this presentation</p>
        </section>
        <section>
          <h1>Gil Pratte</h1>
          <a href="http://gilpratte.com">http://gilpratte.com</a>
          <br>
          <a href="https://github.com/gpratte">https://github.com/gpratte</a>
          <br>
          <a href="http://full-stack-software.info">http://full-stack-software.info</a>
        </section>
        <section>
          <h1>Quote</h1>
          <blockquote cite="https://www.bloomberg.com/graphics/2015-paul-ford-what-is-code/">
					&ldquo;It takes a good mathematician to be a computer scientist, but a middling one to be an effective programmer. . . . When it get real, break out the comp sci. When you're doing anything a hundred trillion times, nanoseconds delays add up. Systems slow down, users get cranky, money burns by the barrel.&rdquo;
				  </blockquote>
        </section>
        <section>
          <h1>Big O</h1>
          <a href="https://en.wikipedia.org/wiki/Big_O_notation">Wikipedia</a>
          <blockquote cite="https://en.wikipedia.org/wiki/Big_O_notation">
					&ldquo;In computer science, big O notation is used to classify algorithms according to how their running time or space requirements grow as the input size grows.&rdquo;
				  </blockquote>
        </section>
        <section>
          <h1>Big O</h1>
          <a href="https://www.khanacademy.org/computing/computer-science/algorithms/asymptotic-notation/a/big-o-notation">Khan Academy</a>
          <blockquote cite="https://www.khanacademy.org/computing/computer-science/algorithms/asymptotic-notation/a/big-o-notation">
          &ldquo;We use big-Î˜ notation to asymptotically bound the growth of a running time to within constant factors above and below. Sometimes we want to bound from only above.&rdquo;
          </blockquote>
          <p> <small> The term asymptotic means approaching a value or curve arbitrarily closely (i.e., as some sort of limit is taken).</small> </p>
        </section>

        <section>
          <h1>Math is a four letter word</h1>
          <p>This presentation will barely touch on the math to calculate an
          algorithm's performance.</p>
          <p>See <a href="https://en.wikipedia.org/wiki/Big_O_notation">Wikipedia</a> and its references for a rigorous definition.
          </p>
          <aside class="notes">
            In my data structures call I remember using L'Hopital's rule to compare which
            function grew faster.
          </aside>
        </section>

        <section>
          <h1>Big O Performance</h1>
          <a href="https://www.desmos.com/calculator">Calculator</a>
          <aside class="notes">
            <ul>
              <li>y=1</li>
              <li>y=log(x)</li>
              <li>y=x</li>
              <li>y=x*x</li>
            </ul>
          </aside>
        </section>
        <section>
          <h1>O(1)</h1>
          <p>Access a cell in an array.</p>
          <p>No matter what the size of the array the time is always constant to access one cell.</p>
        </section>
        <section>
          <h1>O(log n)</h1>
          <p>Binary search.</p>
          <p>Best case O(1) and worst case O(log n).</p>
        </section>
        <section>
          <h1>O(n)</h1>
          <p>Return the average of the cells if an array of numbers.</p>
          <p>Access all n cells of the array.</p>
        </section>
        <section>
          <h1>O(n<sup>2</sup>)</h1>
          <p>Bubble sort.</p>
          <p>Best case O(n) and worst case O(n<sup>2</sup>).</p>
        </section>
        <section>
          <h1>Graph</h1>
          <img src="images/big-o.png"  height="400" width="400">
          <br>
          <a href="https://www.hackerearth.com/practice/notes/big-o-cheatsheet-series-data-structures-and-algorithms-with-thier-complexities-1/">Click here for a better graph</a>
        </section>

        <section>
          <h1>Sorting</h1>
        </section>
        <section>
          <h1>Bubble Sort</h1>
          <table>
            <tr>
              <td>input &rarr;</td> <td>2</td><td>3</td><td>4</td><td>1</td> <td>n=4</td>
            </tr>
            <tr>
              <td>1st sort &rarr;</td> <td>2</td><td>3</td><td>1</td><td>4</td><td>change</td>
            </tr>
            <tr>
              <td>2nd sort &rarr;</td> <td>2</td><td>1</td><td>3</td><td>4</td><td>change</td>
            </tr>
            <tr>
              <td>3rd sort &rarr;</td> <td>1</td><td>2</td><td>3</td><td>4</td><td>change</td>
            </tr>
            <tr>
              <td>4th sort &rarr;</td> <td>1</td><td>2</td><td>3</td><td>4</td><td>no change</td>
            </tr>
            <tr>
              <td colspan="6">16 cells inspected = 4<sup>2</sup> = O(n<sup>2</sup>)</td>
            </tr>
          </table>
        </section>
        <section>
          <h1>Better sorting O(nlog(n))</h1>
          <ul>
            <li>Quicksort</li>
            <li>Mergesort</li>
            <li>Heapsort</li>
          </ul>
        </section>
        <section>
          <h1>Graph</h1>
          <img src="images/big-o-II.png"  height="400" width="400">
          <br>
          <a href="https://www.hackerearth.com/practice/notes/big-o-cheatsheet-series-data-structures-and-algorithms-with-thier-complexities-1/">Click here for a better graph</a>
        </section>
        <section>
          <h1>Python Quicksort</h1>
          <a href="https://jakevdp.github.io/PythonDataScienceHandbook/02.08-sorting.html#Fast-Sorting-in-NumPy:-np.sort-and-np.argsort">Fast Sorting in NumPy</a>
          <p>
            <blockquote cite="https://jakevdp.github.io/PythonDataScienceHandbook/02.08-sorting.html#Fast-Sorting-in-NumPy:-np.sort-and-np.argsort">
  					&ldquo;By default np.sort uses an O(nlog(n)), quicksort algorithm, though mergesort and heapsort are also available.&rdquo;
  				  </blockquote>
          </p>
        </section>

        <section>
          <h1>Java Quicksort</h1>
          <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#sort-int:A-">Arrays.sort</a>

          <p>
            <blockquote cite="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#sort-int:A-">
  					&ldquo;The sorting algorithm is a Dual-Pivot Quicksort . . . . This algorithm offers O(n log(n)) performance on many data sets that cause other quicksorts to degrade to quadratic performance, and is typically faster than traditional (one-pivot) Quicksort implementations.&rdquo;
  				  </blockquote>
          </p>
        </section>

        <section>
          <h1>Java Quicksort</h1>
          <a href="https://github.com/frohoff/jdk8u-dev-jdk/blob/master/src/share/classes/java/util/DualPivotQuicksort.java">Source code</a>
          <pre>public static void sort(int[] a) {
  DualPivotQuicksort.sort(a, 0, a.length - 1, null, 0, 0);
}</pre>
        </section>

        <section>
          <h1>Not all math</h1>
          <p>In an interview many years ago I was shown some code and
          asked why it was not performant.</p>
          <p>Answer: Converting the map to a string should be done
            in the if statement of the logger, not when passing the argument.
          </p>
          <p>Continued on next slide...</p>
        </section>

        <section>
          <h1>Not all math</h1>
          <pre>public class Main {
    public static void main(String[] args) {
        Map map = new HashMap<>();
        map.put(1, "one");
        new Logger().log(4, map + "");
    }
}
class Logger {
    int logLevel; // set from property file
    public void log(int level, String message) {
        if (level > logLevel) {
            System.out.println(message);
        }
    }
}
</pre>
        </section>

        <section>
          <h1>Memory Performance</h1>
          <p>Execution time is not the only measurement of performance.
             Memory usage can also affect performance.
          </p>
          <p>Let's briefly make a couple of points regarding memory performance.</p>
        </section>

        <section>
          <h1>Stack</h1>
          <blockquote cite="https://www.bloomberg.com/graphics/2015-paul-ford-what-is-code/">
					&ldquo;Sometimes a request goes too hard, for example, calling itself so many times that the stack, which is a finite resource, fills up and can't take it anymore. Hence the name of the website Stack Overflow, where programmers go to answer questions and help each other solve bugs. It's the 62nd most visited website in the world, trailing Craigslist by a few spots.&rdquo;
				  </blockquote>
        </section>

        <section>
          <h1>Heap Memory</h1>
          <p>The more memory your program uses the more time is needed to reclaim it.
          It can result in excessive garbage collection.</p>
          <p>Examples of wasting memory are
            <ul>
              <li>In Java creating many objects when a singleton would do</li>
              <li>String concatenation</li>
            </ul>
          </p>
        </section>

        <section>
          <h1>Resources</h1>
          <ul>
            <li>On Heroku for a limit time
              <br> <a href="https://algorithm-big-o.herokuapp.com/">https://algorithm-big-o.herokuapp.com/</a>
              <br>Note that Heroku may take up to a minute (or more) to load the website
            </li>
          <li>GitHub
            <br>Clone <a href="https://github.com/gpratte/algorithm-performance-presentation.git">https://github.com/gpratte/algorithm-performance-presentation.git</a>. and then open index.html in a browser.
          </li>
          <li>PDF
            <br> <a href="https://github.com/gpratte/algorithm-performance-presentation/blob/master/pdf/algorithm-performance.pdf">PDF</a>
          </li>
        </ul>
        </section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
